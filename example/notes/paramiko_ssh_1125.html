<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html><head><title>Paramiko SSH</title>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta http-equiv="Content-Style-Type" content="text/css">
</head>
<body style="margin: 5px 5px 5px 5px; background-color: #ffffff;">
<p style=" text-align: left; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 0px 0px 0px 0px;"><a style=" font-size: 10pt; font-family: 'Verdana', 'Geneva', sans-serif; font-style: normal; font-weight: bold; color: #0000ff; background-color: transparent; text-decoration: underline;" href="http://www.no-ack.org/2010/11/python-bindings-for-libssh2.html">http://www.no-ack.org/2010/11/python-bindings-for-libssh2.html</a></p>
<p style=" text-align: left; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 0px 0px 0px 0px;"><a style=" font-size: 10pt; font-family: 'Verdana', 'Geneva', sans-serif; font-style: normal; font-weight: bold; color: #0000ff; background-color: transparent; text-decoration: underline;" href="http://twistedmatrix.com/documents/current/conch/howto/conch_client.html">http://twistedmatrix.com/documents/current/conch/howto/conch_client.html</a></p>
<p style=" text-align: left; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 0px 0px 0px 0px;"><a style=" font-size: 10pt; font-family: 'Verdana', 'Geneva', sans-serif; font-style: normal; font-weight: bold; color: #0000ff; background-color: transparent; text-decoration: underline;" href="http://python-lab.blogspot.com/2012/10/ssh-paramiko.html">http://python-lab.blogspot.com/2012/10/ssh-paramiko.html</a></p>
<p style=" text-align: left; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 0px 0px 0px 0px;"><span style=" font-size: 10pt; font-family: 'Verdana', 'Geneva', sans-serif; font-style: normal; font-weight: bold; color: #0000ff; background-color: transparent; text-decoration: underline;"><br></span></p>
<p style=" text-align: left; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 0px 0px 0px 0px;"><span style=" font-size: 10pt; font-family: 'Verdana', 'Geneva', sans-serif; font-style: normal; font-weight: bold; color: #ff0000; background-color: transparent; text-decoration: none;"><br></span></p>
<p style=" text-align: left; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 0px 0px 0px 0px; page-break-before: always;"><span style=" font-size: 10pt; font-family: 'Verdana', 'Geneva', sans-serif; font-style: normal; font-weight: bold; color: #ff0000; background-color: transparent; text-decoration: none;"><br></span></p>
<p style=" text-align: left; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 0px 0px 0px 0px;"><span style=" font-size: 10pt; font-family: 'Verdana', 'Geneva', sans-serif; font-style: normal; font-weight: bold; color: #ff0000; background-color: transparent; text-decoration: none;">Присоединиться к bsstudent</span></p>
<p style=" text-align: left; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 0px 0px 0px 0px;"><span style=" font-size: 10pt; font-family: 'Verdana', 'Geneva', sans-serif; font-style: normal; font-weight: bold; color: #ff0000; background-color: transparent; text-decoration: none;"><br></span></p>
<p style=" text-align: left; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 0px 0px 0px 0px;"><span style=" font-size: 11pt; font-family: 'Verdana', 'Geneva', sans-serif; font-style: normal; font-weight: normal; color: #000000; background-color: transparent; text-decoration: none;">import paramiko</span></p>
<p style=" text-align: left; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 0px 0px 0px 0px;"><span style=" font-size: 11pt; font-family: 'Verdana', 'Geneva', sans-serif; font-style: normal; font-weight: normal; color: #000000; background-color: transparent; text-decoration: none;"><br></span></p>
<p style=" text-align: left; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 0px 0px 0px 0px;"><span style=" font-size: 11pt; font-family: 'Verdana', 'Geneva', sans-serif; font-style: normal; font-weight: normal; color: #000000; background-color: transparent; text-decoration: none;">ssh = paramiko.SSHClient()</span></p>
<p style=" text-align: left; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 0px 0px 0px 0px;"><span style=" font-size: 11pt; font-family: 'Verdana', 'Geneva', sans-serif; font-style: normal; font-weight: normal; color: #000000; background-color: transparent; text-decoration: none;">ssh.set_missing_host_key_policy(paramiko.AutoAddPolicy())</span></p>
<p style=" text-align: left; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 0px 0px 0px 0px;"><span style=" font-size: 11pt; font-family: 'Verdana', 'Geneva', sans-serif; font-style: normal; font-weight: normal; color: #000000; background-color: transparent; text-decoration: none;">host = "sedovanton.bstudent01c.yandex.net"</span></p>
<p style=" text-align: left; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 0px 0px 0px 0px;"><span style=" font-size: 11pt; font-family: 'Verdana', 'Geneva', sans-serif; font-style: normal; font-weight: normal; color: #000000; background-color: transparent; text-decoration: none;">port = 22</span></p>
<p style=" text-align: left; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 0px 0px 0px 0px;"><span style=" font-size: 11pt; font-family: 'Verdana', 'Geneva', sans-serif; font-style: normal; font-weight: normal; color: #000000; background-color: transparent; text-decoration: none;">ssh.connect(host, port=port, &nbsp;username='sedovanton', allow_agent=True)</span></p>
<p style=" text-align: left; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 0px 0px 0px 0px;"><span style=" font-size: 11pt; font-family: 'Verdana', 'Geneva', sans-serif; font-style: normal; font-weight: normal; color: #000000; background-color: transparent; text-decoration: none;">stdin,stdout,stderr = ssh.exec_command("ps -ef")</span></p>
<p style=" text-align: left; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 0px 0px 0px 0px;"><span style=" font-size: 11pt; font-family: 'Verdana', 'Geneva', sans-serif; font-style: normal; font-weight: normal; color: #000000; background-color: transparent; text-decoration: none;">print stdout.read()</span></p>
<p style=" text-align: left; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 0px 0px 0px 0px;"><span style=" font-size: 11pt; font-family: 'Verdana', 'Geneva', sans-serif; font-style: normal; font-weight: normal; color: #000000; background-color: transparent; text-decoration: none;">print stderr.read()</span></p>
<p style=" text-align: left; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 0px 0px 0px 0px;"><span style=" font-size: 11pt; font-family: 'Verdana', 'Geneva', sans-serif; font-style: normal; font-weight: normal; color: #000000; background-color: transparent; text-decoration: none;"><br></span></p>
<p style=" text-align: left; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 0px 0px 0px 0px;"><span style=" font-size: 11pt; font-family: 'Verdana', 'Geneva', sans-serif; font-style: normal; font-weight: normal; color: #000000; background-color: transparent; text-decoration: none;"><br></span></p>
<p style=" text-align: left; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 0px 0px 0px 0px;"><span style=" font-size: 10pt; font-family: 'Verdana', 'Geneva', sans-serif; font-style: normal; font-weight: normal; color: #000000; background-color: #b3ffb0; text-decoration: none;">UID &nbsp; &nbsp; &nbsp; &nbsp;PID &nbsp;PPID &nbsp;C STIME TTY &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;TIME CMD</span></p>
<p style=" text-align: left; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 0px 0px 0px 0px;"><span style=" font-size: 10pt; font-family: 'Verdana', 'Geneva', sans-serif; font-style: normal; font-weight: normal; color: #000000; background-color: #b3ffb0; text-decoration: none;">root &nbsp; &nbsp; &nbsp; &nbsp; 1 &nbsp; &nbsp; 0 &nbsp;0 May30 ? &nbsp; &nbsp; &nbsp; &nbsp;00:00:05 /sbin/init</span></p>
<p style=" text-align: left; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 0px 0px 0px 0px;"><span style=" font-size: 10pt; font-family: 'Verdana', 'Geneva', sans-serif; font-style: normal; font-weight: normal; color: #000000; background-color: #b3ffb0; text-decoration: none;">root &nbsp; &nbsp; &nbsp; &nbsp; 2 &nbsp; &nbsp; 0 &nbsp;0 May30 ? &nbsp; &nbsp; &nbsp; &nbsp;00:00:00 [kthreadd]</span></p>
<p style=" text-align: left; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 0px 0px 0px 0px;"><span style=" font-size: 10pt; font-family: 'Verdana', 'Geneva', sans-serif; font-style: normal; font-weight: normal; color: #000000; background-color: #b3ffb0; text-decoration: none;">root &nbsp; &nbsp; &nbsp; &nbsp; 3 &nbsp; &nbsp; 2 &nbsp;0 May30 ? &nbsp; &nbsp; &nbsp; &nbsp;00:00:30 [ksoftirqd/0]</span></p>
<p style=" text-align: left; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 0px 0px 0px 0px;"><span style=" font-size: 11pt; font-family: 'Verdana', 'Geneva', sans-serif; font-style: normal; font-weight: normal; color: #000000; background-color: transparent; text-decoration: none;"><br></span></p>
<p style=" text-align: left; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 0px 0px 0px 0px; page-break-before: always;"><span style=" font-size: 11pt; font-family: 'Verdana', 'Geneva', sans-serif; font-style: normal; font-weight: normal; color: #000000; background-color: transparent; text-decoration: none;"><br></span></p>
<p style=" text-align: left; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 0px 0px 0px 0px;"><span style=" font-size: 11pt; font-family: 'Verdana', 'Geneva', sans-serif; font-style: normal; font-weight: normal; color: #000000; background-color: transparent; text-decoration: none;"><br></span></p>
<p style=" text-align: left; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 0px 0px 0px 0px;"><span style=" font-size: 11pt; font-family: 'Verdana', 'Geneva', sans-serif; font-style: normal; font-weight: normal; color: #000000; background-color: transparent; text-decoration: none;">import paramiko</span></p>
<p style=" text-align: left; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 0px 0px 0px 0px;"><span style=" font-size: 11pt; font-family: 'Verdana', 'Geneva', sans-serif; font-style: normal; font-weight: normal; color: #000000; background-color: transparent; text-decoration: none;">import sys</span></p>
<p style=" text-align: left; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 0px 0px 0px 0px;"><span style=" font-size: 11pt; font-family: 'Verdana', 'Geneva', sans-serif; font-style: normal; font-weight: normal; color: #000000; background-color: transparent; text-decoration: none;"><br></span></p>
<p style=" text-align: left; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 0px 0px 0px 0px;"><span style=" font-size: 11pt; font-family: 'Verdana', 'Geneva', sans-serif; font-style: normal; font-weight: normal; color: #000000; background-color: transparent; text-decoration: none;">nbytes = 4096</span></p>
<p style=" text-align: left; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 0px 0px 0px 0px;"><span style=" font-size: 11pt; font-family: 'Verdana', 'Geneva', sans-serif; font-style: normal; font-weight: normal; color: #000000; background-color: transparent; text-decoration: none;">hostname = "sedovanton.bstudent01c.yandex.net"</span></p>
<p style=" text-align: left; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 0px 0px 0px 0px;"><span style=" font-size: 11pt; font-family: 'Verdana', 'Geneva', sans-serif; font-style: normal; font-weight: normal; color: #000000; background-color: transparent; text-decoration: none;">port = 22</span></p>
<p style=" text-align: left; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 0px 0px 0px 0px;"><span style=" font-size: 11pt; font-family: 'Verdana', 'Geneva', sans-serif; font-style: normal; font-weight: normal; color: #000000; background-color: transparent; text-decoration: none;">username = "sedovanton"</span></p>
<p style=" text-align: left; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 0px 0px 0px 0px;"><span style=" font-size: 11pt; font-family: 'Verdana', 'Geneva', sans-serif; font-style: normal; font-weight: normal; color: #000000; background-color: transparent; text-decoration: none;">#password = 'Ajhtcnufvg01@'</span></p>
<p style=" text-align: left; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 0px 0px 0px 0px;"><span style=" font-size: 11pt; font-family: 'Verdana', 'Geneva', sans-serif; font-style: normal; font-weight: normal; color: #000000; background-color: transparent; text-decoration: none;">command = 'cat student.txt'</span></p>
<p style=" text-align: left; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 0px 0px 0px 0px;"><span style=" font-size: 11pt; font-family: 'Verdana', 'Geneva', sans-serif; font-style: normal; font-weight: normal; color: #000000; background-color: transparent; text-decoration: none;"><br></span></p>
<p style=" text-align: left; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 0px 0px 0px 0px;"><span style=" font-size: 11pt; font-family: 'Verdana', 'Geneva', sans-serif; font-style: normal; font-weight: normal; color: #000000; background-color: transparent; text-decoration: none;">client = paramiko.SSHClient()</span></p>
<p style=" text-align: left; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 0px 0px 0px 0px;"><span style=" font-size: 11pt; font-family: 'Verdana', 'Geneva', sans-serif; font-style: normal; font-weight: normal; color: #000000; background-color: transparent; text-decoration: none;">client.set_missing_host_key_policy(paramiko.AutoAddPolicy())</span></p>
<p style=" text-align: left; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 0px 0px 0px 0px;"><span style=" font-size: 11pt; font-family: 'Verdana', 'Geneva', sans-serif; font-style: normal; font-weight: normal; color: #000000; background-color: transparent; text-decoration: none;">client.connect(hostname, port=port, username=username, allow_agent=True)</span></p>
<p style=" text-align: left; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 0px 0px 0px 0px;"><span style=" font-size: 11pt; font-family: 'Verdana', 'Geneva', sans-serif; font-style: normal; font-weight: normal; color: #000000; background-color: transparent; text-decoration: none;"><br></span></p>
<p style=" text-align: left; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 0px 0px 0px 0px;"><span style=" font-size: 11pt; font-family: 'Verdana', 'Geneva', sans-serif; font-style: normal; font-weight: normal; color: #000000; background-color: transparent; text-decoration: none;"><br></span></p>
<p style=" text-align: left; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 0px 0px 0px 0px;"><span style=" font-size: 11pt; font-family: 'Verdana', 'Geneva', sans-serif; font-style: normal; font-weight: normal; color: #000000; background-color: transparent; text-decoration: none;">stdout_data = []</span></p>
<p style=" text-align: left; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 0px 0px 0px 0px;"><span style=" font-size: 11pt; font-family: 'Verdana', 'Geneva', sans-serif; font-style: normal; font-weight: normal; color: #000000; background-color: transparent; text-decoration: none;">stderr_data = []</span></p>
<p style=" text-align: left; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 0px 0px 0px 0px;"><span style=" font-size: 11pt; font-family: 'Verdana', 'Geneva', sans-serif; font-style: normal; font-weight: normal; color: #000000; background-color: transparent; text-decoration: none;">session = client._transport.open_channel(kind='session')</span></p>
<p style=" text-align: left; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 0px 0px 0px 0px;"><span style=" font-size: 11pt; font-family: 'Verdana', 'Geneva', sans-serif; font-style: normal; font-weight: normal; color: #000000; background-color: transparent; text-decoration: none;">session.exec_command(command)</span></p>
<p style=" text-align: left; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 0px 0px 0px 0px;"><span style=" font-size: 11pt; font-family: 'Verdana', 'Geneva', sans-serif; font-style: normal; font-weight: normal; color: #000000; background-color: transparent; text-decoration: none;">while True:</span></p>
<p style=" text-align: left; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 0px 0px 0px 0px;"><span style=" font-size: 11pt; font-family: 'Verdana', 'Geneva', sans-serif; font-style: normal; font-weight: normal; color: #000000; background-color: transparent; text-decoration: none;"> &nbsp; &nbsp;if session.recv_ready():</span></p>
<p style=" text-align: left; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 0px 0px 0px 0px;"><span style=" font-size: 11pt; font-family: 'Verdana', 'Geneva', sans-serif; font-style: normal; font-weight: normal; color: #000000; background-color: transparent; text-decoration: none;"> &nbsp; &nbsp; &nbsp; &nbsp;stdout_data.append(session.recv(nbytes))</span></p>
<p style=" text-align: left; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 0px 0px 0px 0px;"><span style=" font-size: 11pt; font-family: 'Verdana', 'Geneva', sans-serif; font-style: normal; font-weight: normal; color: #000000; background-color: transparent; text-decoration: none;"> &nbsp; &nbsp;if session.recv_stderr_ready():</span></p>
<p style=" text-align: left; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 0px 0px 0px 0px;"><span style=" font-size: 11pt; font-family: 'Verdana', 'Geneva', sans-serif; font-style: normal; font-weight: normal; color: #000000; background-color: transparent; text-decoration: none;"> &nbsp; &nbsp; &nbsp; &nbsp;stderr_data.append(session.recv_stderr(nbytes))</span></p>
<p style=" text-align: left; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 0px 0px 0px 0px;"><span style=" font-size: 11pt; font-family: 'Verdana', 'Geneva', sans-serif; font-style: normal; font-weight: normal; color: #000000; background-color: transparent; text-decoration: none;"> &nbsp; &nbsp;if session.exit_status_ready():</span></p>
<p style=" text-align: left; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 0px 0px 0px 0px;"><span style=" font-size: 11pt; font-family: 'Verdana', 'Geneva', sans-serif; font-style: normal; font-weight: normal; color: #000000; background-color: transparent; text-decoration: none;"> &nbsp; &nbsp; &nbsp; &nbsp;break</span></p>
<p style=" text-align: left; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 0px 0px 0px 0px;"><span style=" font-size: 11pt; font-family: 'Verdana', 'Geneva', sans-serif; font-style: normal; font-weight: normal; color: #000000; background-color: transparent; text-decoration: none;"><br></span></p>
<p style=" text-align: left; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 0px 0px 0px 0px;"><span style=" font-size: 11pt; font-family: 'Verdana', 'Geneva', sans-serif; font-style: normal; font-weight: normal; color: #000000; background-color: transparent; text-decoration: none;">print 'exit status: ', session.recv_exit_status()</span></p>
<p style=" text-align: left; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 0px 0px 0px 0px;"><span style=" font-size: 11pt; font-family: 'Verdana', 'Geneva', sans-serif; font-style: normal; font-weight: normal; color: #000000; background-color: transparent; text-decoration: none;">print ''.join(stdout_data)</span></p>
<p style=" text-align: left; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 0px 0px 0px 0px;"><span style=" font-size: 11pt; font-family: 'Verdana', 'Geneva', sans-serif; font-style: normal; font-weight: normal; color: #000000; background-color: transparent; text-decoration: none;">print ''.join(stderr_data)</span></p>
<p style=" text-align: left; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 0px 0px 0px 0px;"><span style=" font-size: 11pt; font-family: 'Verdana', 'Geneva', sans-serif; font-style: normal; font-weight: normal; color: #000000; background-color: transparent; text-decoration: none;"><br></span></p>
<p style=" text-align: left; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 0px 0px 0px 0px;"><span style=" font-size: 11pt; font-family: 'Verdana', 'Geneva', sans-serif; font-style: normal; font-weight: normal; color: #000000; background-color: transparent; text-decoration: none;">session.close()</span></p>
<p style=" text-align: left; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 0px 0px 0px 0px;"><span style=" font-size: 11pt; font-family: 'Verdana', 'Geneva', sans-serif; font-style: normal; font-weight: normal; color: #000000; background-color: transparent; text-decoration: none;">client.close()</span></p>
<p style=" text-align: left; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 0px 0px 0px 0px;"><span style=" font-size: 11pt; font-family: 'Verdana', 'Geneva', sans-serif; font-style: normal; font-weight: normal; color: #000000; background-color: transparent; text-decoration: none;"><br></span></p>
<p style=" text-align: left; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 0px 0px 0px 0px;"><span style=" font-size: 11pt; font-family: 'Verdana', 'Geneva', sans-serif; font-style: normal; font-weight: normal; color: #000000; background-color: transparent; text-decoration: none;"><br></span></p>
<p style=" text-align: left; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 0px 0px 0px 0px; page-break-before: always;"><span style=" font-size: 11pt; font-family: 'Verdana', 'Geneva', sans-serif; font-style: normal; font-weight: normal; color: #000000; background-color: transparent; text-decoration: none;"><br></span></p>
</body></html>
